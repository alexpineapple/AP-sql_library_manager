extends layout.pug

block content
  header
  h1 Books
  p
    
    form(method='get' action='/books')
      input(type='search' placeholder='search' name='search' value=search)
      input(type='submit' value='search')
  p
    a.button(href='/books/new') Create New Book  
    
  p
    if (numberOfResults > 0) 
      h4 We found #{numberOfResults} book(s)
    else
      h4 No books found!
  p
  table
    thead
      tr
        th Title
        th Author
        th Genre
        th Year
    tbody
      each book in books
        tr
          td
            a(href=`/books/${book.id}`) #{book.title}
          td= book.author
          td= book.genre
          td= book.year


  p
  
  each button in paginationButtons
    if button.disabled
      a.button(href=`/books?page=${button.destination}&search=${search}` class='disabled' onclick='return false;') #{button.display}
    else
      a.button(href=`/books?page=${button.destination}&search=${search}`) #{button.display}
    

  
